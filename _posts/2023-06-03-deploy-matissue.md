---
title: ë§›ì´ìŠˆ ë°°í¬ ëŒ€ì‘ì „
date: 2023-06-23
categories: [blog]
layout: post
tags:
  [
    gcp,
    cloud,
    deploy,
    ssh,
    nginx,
    pm2,
    python,
    seo,
    uvicorn,
    certbot,
    nohup,
    linux
  ]
---

## FE

[ë§›ì´ìŠˆ](https://www.matissue.com/)

| ì•„ì´ë””                           | ssh elice@34.64.208.88                           |
| -------------------------------- | ------------------------------------------------ |
| ë¹„ë²ˆ                             | **\*\***\*\***\*\***\*\*\*\***\*\***\*\***\*\*** |
| í´ë” ë“¤ì–´ê°€ê¸°                    | cd dev-fe/front                                  |
| ìµœì‹ ë²„ì „ ë‹¹ê²¨ì˜¤ê¸°                | git pull origin <ë¸Œëœì¹˜ëª…>                       |
| ìƒˆë¡œìš´ ì˜ì¡´ì„±ìˆìœ¼ë©´ ì„¤ì¹˜         | npm i                                            |
| ë¹Œë“œ                             | npm run build                                    |
| ìƒˆë¡œìš´ ë¹Œë“œ íŒŒì¼ë¡œ ë¬´ì¤‘ë‹¨ ì¬ì‹œì‘ | pm2 reload 0                                     |

## ë°°í¬ê³¼ì •

### ì•„ì´ë””

ssh elice@34.64.208.88

### ë¹„ë²ˆ

///

### nginx ì„¤ì¹˜

sudo apt install nginx

### nginx ì„¤ì •íŒŒì¼

sudo nano /etc/nginx/sites-available/default

- ì„¤ì •íŒŒì¼ ë³µë¶™

  ```bash
  # applications, such as Drupal or Wordpress. These applications will be made
  # available underneath a path with that package name, such as /drupal8.
  #
  # Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.
  ##

  # Default server configuration
  #
  server {
          listen 80 default_server;
          listen [::]:80 default_server;
  				server_name matissue.com www.matissue.com
          # SSL configuation
          #
          # listen 443 ssl default_server;
          # listen [::]:443 ssl default_server;
          #
          # Note: You should disable gzip for SSL traffic.
          # See: https://bugs.debian.org/773332
          #
          # Read up on ssl_ciphers to ensure a secure configuration.
          # See: https://bugs.debian.org/765782
          #
          # Self signed certs generated by the ssl-cert package
          # Don't use them in a production server!
          #
          # include snippets/snakeoil.conf;

          root /ubuntu/dev-fe/front;

          # Add index.php to the list if you are using PHP
          index index.html index.htm index.nginx-debian.html;

          server_name _;

          location / {
                  # First attempt to serve request as file, then
                  # as directory, then fall back to displaying a 404.
                  proxy_pass http://127.0.0.1:3000;
          }

          # pass PHP scripts to FastCGI server
          #
          #location ~ \.php$ {
          #       include snippets/fastcgi-php.conf;
          #
          #       # With php-fpm (or other unix sockets):
          #       fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
          #       # With php-cgi (or other tcp sockets):
          #       fastcgi_pass 127.0.0.1:9000;
          #}

          # deny access to .htaccess files, if Apache's document root
          # concurs with nginx's one
          #
          #location ~ /\.ht {
          #       deny all;
          #}
  }

  # Virtual Host configuration for example.com
  #
  # You can move that to a different file under sites-available/ and symlink that
  # to sites-enabled/ to enable it.
  #
  #server {
  #       listen 80;
  #       listen [::]:80;
  #
  #       server_name example.com;
  #
  #       root /var/www/example.com;
  #       index index.html;
  #
  #       location / {
  #               try_files $uri $uri/ =404;
  #       }
  #}

  ```

### volta ì„¤ì¹˜

curl https://get.volta.sh | bash

### volta ì„¤ì¹˜ í›„ í•œë²ˆ ì¬ì‹œì‘

source ~/.bashrc

### voltaë¡œ node, pm2 ì„¤ì¹˜

volta install node
volta install pm2

### voltaë¡œ node, pm2 ì„¤ì¹˜

pm2 delete 0

### nextjs ë¹Œë“œ

npm run build

### pm2ë¡œ nextJS ë°°í¬ë²„ì „ ì‹¤í–‰

pm2 start npm -- start

[Can I use pm2 to keep a Next.js app running](https://stackoverflow.com/questions/70352826/can-i-use-pm2-to-keep-a-next-js-app-running/76319287#76319287)

---

## BE

## ë°°í¬ê³¼ì •

```bash

**ê³„ì •** (render.com / gmx ì´ë©”ì¼ ê³„ì •ì´ë‘ ë™ì¼)

matissue@gmx.com
@Ubinzzang1
```

[Cloud Application Hosting for Developers | Render](https://render.com/)

**ë°°í¬ ê¹ƒí—ˆë¸Œ**

[GitHub - nea04184/testserver](https://github.com/nea04184/testserver)

## ssh ì¸ì¦ì„œ (https ë°›ê¸°)

[https://www.youtube.com/watch?v=uSm3xepvUNM](https://www.youtube.com/watch?v=uSm3xepvUNM)

```bash
sudo apt-get install certbot python3-certbot-nginx
sudo certbot --nginx
```

## ğŸ“Â Related articles

| ì´ìŠˆëª…  | ë§í¬                                        |
| ------- | ------------------------------------------- |
| certbot | https://www.youtube.com/watch?v=uSm3xepvUNM |

[íŠ¸ëŸ¬ë¸”ìŠˆíŒ…]
