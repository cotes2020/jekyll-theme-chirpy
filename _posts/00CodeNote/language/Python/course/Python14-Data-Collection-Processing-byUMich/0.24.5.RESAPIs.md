
# 24.5. `REST` APIs

[toc]

## intro

`REST`, Representational State Transfer.
- It originally had a more abstract meaning, but has come to be a shorthand name for web sites that act a bit like python functions, taking as inputs values for certain parameters and producing outputs in the form of a long text string.


`API`, Application Programming Interface.
- An API specifies how an external program (an application program) can request that a program perform certain computations.

**Putting the two together:**

a `REST` `API` specifies how external programs can make HTTP requests to a web site to request some computation be carried out and data returned as output.

`web service`: When a <font color=blue> website </font> is designed to accept requests generated by <font color=blue> computer programs </font>, and produce <font color=red> outputs </font> to be consumed by <font color=blue> other programs </font> .
- as opposed to a web site which produces output meant for <font color=blue> humans </font> to consume in a web browser.


common pattern `REST APIs`
- a base `URL` that defines an “endpoint”, and then additional information is appended to the URL as `query parameters`.
- the response comes back not as HTML but `JSON`.
- Along the way, functions in python modules are helpful for constructing the URLS and for processing the JSON formatted response.


### 24.5.1. URL Structure for REST APIs

In a `REST API`, the client/application program makes an `HTTP request` that includes information about what kind of request it is making.

Web sites define whatever format they want for how the request should be formatted.

a particularly common and simple format, where the `request information` is encoded in the `URL`.
- convenient, can debug by copying the URL into a browser and see what happens when it tries to visit that URL.

<img alt="pic" src="https://i.imgur.com/6tiJDLq.png" width="500">

In this format, the URL has a standard structure:
- the base URL
- a ? character
- one or more key-value pairs, formatted as `key=value` pairs and separated by the `&` character.

---

example

URL `https://itunes.apple.com/search?term=Ann+Arbor&entity=podcast`

file in JSON format

<img alt="pic" src="https://i.imgur.com/m9nLsn2.png" width="320">

- the base URL: `https://itunes.apple.com/search`
- a `?` character
- `key=value pairs`. there are two pairs.
  - The `keys` are term and entity.
  - `&` separates the two pairs.

---

### 24.5.2. Encoding URL Parameters

another URL

`https://www.google.com/search?q=%22violins+and+guitars%22&tbm=isch`

- a search on Google for images that match the string “violins and guitars”.
- It’s not actually based on a `REST API`, because the contents that come back are meant to be displayed in a browser.
- But the URL has the same structure we have been exploring above and introduces the idea of “encoding” URL parameters.

- The `base URL`: `https://www.google.com/search`
- `?`
- Two `key=value` parameters, separated by `&`
  - `q=%22violins+and+guitars%22`: the query to search for is “violins and guitars”.
  - `tbm=isch`: go to the tab for image search


`%22violins+and+guitars%22`
- some characters are not safe to include, as is, in URLs.
- a URL path is not allowed to include the `double -quote character : / space`.
  - to include one of those characters in a URL, have to encode them with other characters.
  - `space` is encoded as `+`
  - `"` is encoded as `%22`
  - `:` would be encoded as `%3A`

















.
