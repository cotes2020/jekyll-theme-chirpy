<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>RabbitMQ in an ASP .NET Core 3.1 Microservice | Programming With Wolfgang</title><meta name="generator" content="Jekyll v4.1.0" /><meta property="og:title" content="RabbitMQ in an ASP .NET Core 3.1 Microservice" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="In my last posts, I created two microservices using ASP .NET Core 3.1. Today, I will implement RabbitMQ, so the microservices can exchange data while staying independent. RabbitMQ can also be used to publish data even without knowing the subscribers. This means that you can publish an update and whoever is interested can get the new information." /><meta property="og:description" content="In my last posts, I created two microservices using ASP .NET Core 3.1. Today, I will implement RabbitMQ, so the microservices can exchange data while staying independent. RabbitMQ can also be used to publish data even without knowing the subscribers. This means that you can publish an update and whoever is interested can get the new information." /><link rel="canonical" href="https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" /><meta property="og:url" content="https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-18T11:38:51+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="RabbitMQ in an ASP .NET Core 3.1 Microservice" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"url":"https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/","@type":"BlogPosting","headline":"RabbitMQ in an ASP .NET Core 3.1 Microservice","dateModified":"2020-04-18T11:38:51+02:00","datePublished":"2020-04-18T11:38:51+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/"},"author":{"@type":"Person","name":"Wolfgang Ofner"},"description":"In my last posts, I created two microservices using ASP .NET Core 3.1. Today, I will implement RabbitMQ, so the microservices can exchange data while staying independent. RabbitMQ can also be used to publish data even without knowing the subscribers. This means that you can publish an update and whoever is interested can get the new information.","@context":"https://schema.org"}</script><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <script src="/assets/js/post.min.js" async></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112077092-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-112077092-1'); </script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/author/wolfgang-small.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div></div><div class="d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="nav flex-column mt-3"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/wolfgangofner" target="_blank" > <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" target="_blank" > <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" target="_blank" > <i class="fab fa-linkedin"></i> </a> <a href=" javascript:window.open('mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>RabbitMQ in an ASP .NET Core 3.1 Microservice</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>RabbitMQ in an ASP .NET Core 3.1 Microservice</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Apr 18, 2020, 11:38 AM +0200" > Apr 18 <i class="unloaded">2020-04-18T11:38:51+02:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div></div><div class="post-content"><p><a href="https://www.programmingwithwolfgang.com/document-your-microservice-with-swagger">In my last posts</a>, I created two microservices using ASP .NET Core 3.1. Today, I will implement RabbitMQ, so the microservices can exchange data while staying independent. RabbitMQ can also be used to publish data even without knowing the subscribers. This means that you can publish an update and whoever is interested can get the new information.</p><h2 id="what-is-rabbitmq-and-why-use-it">What is RabbitMQ and why use it?</h2><p>RabbitMQ describes itself as the most widely deployed open-source message broker. It is easy to implement and supports a wide variety of technologies like Docker, .NET or Go. It also offers plugins for monitoring, managing or authentication. I chose RabbitMQ because it is well known, quickly implemented and especially can be easily run using Docker.</p><h2 id="why-use-a-queue-to-send-data">Why use a Queue to send data?</h2><p>Now that you know what RabbitMQ is, the next question is: why should you use a queue instead of directly sending data from one microservice to the other one. There are a couple of reasons why using a queue instead of directly sending data is better:</p><ul><li>Higher availability and better error handling<li>Better scalability<li>Share data with whoever wants/needs it<li>Better user experience due to asynchronous processing</ul><h3 id="higher-availability-and-better-error-handling">Higher availability and better error handling</h3><p>Errors happen all the time. In the past, we designed our systems to avoid errors. Nowadays we design our systems to catch errors and handle them in a user-friendly way.</p><p>Let’s say we have an online shop and the order services send data to the process order service after the customer placed his order. If these services are connected directly and the process order service is offline, the customer will get an error message, for example, “An error occurred. Please try it again later”. This user probably won’t return and you lost the revenue of the order and a customer for the future.</p><p>If the order service places the order in a queue and the order processing service is offline, the customer will get a message that the order got placed and he or she might come back in the future. When the order processing service is back online, it will process all entries and the queue. You might know this behavior when booking a flight. After booking the flight it takes a couple of minutes until you get your confirmation per email.</p><h3 id="better-scalability">Better scalability</h3><p>When you place messages in a queue, you can start new instances of your processor depending on the queue size. For example, you have one processor running, when there are ten items in the queue, you start another one and so on. Nowadays with cloud technologies and serverless features, you can easily scale up to thousands of instances of your processor.</p><h3 id="share-data-with-whoever-wantsneeds-it">Share data with whoever wants/needs it</h3><p>Most of the time, you don’t know who wants to process the information you have.</p><p>Let’s say our order service publishes the order to the queue. Then the order processing service, reporting services, and logistics services can process the data. Your service as a publisher doesn’t care who takes the information. This is especially useful when you have a new service in the future which wants your order data too. This service only has to read the data from the queue. If your publisher service sends the data directly to the other services, you would have to implement each call and change your service every time a new service wants the data.</p><h3 id="better-user-experience-due-to-asynchronous-processing">Better user experience due to asynchronous processing</h3><p>Better user experience is the result of the three other advantages. The user is way less likely to see an error message and even when there is a lot of traffic like on Black Friday, your system can perform well due to the scalability and the asynchronous processing.</p><h2 id="implement-rabbitmq-with-net-core">Implement RabbitMQ with .NET Core</h2><p>You can find the code of  the finished demo on <a href="https://github.com/WolfgangOfner/MicroserviceDemo" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><p>RabbitMQ has a lot of features. I will only implement a simple version of it to publish data to a queue in the Customer service and to process the data in the Order service.</p><h3 id="implementation-of-publishing-data">Implementation of publishing data</h3><p>I am a big fan of Separation of Concerns (SoC) and therefore I am creating a new project in the CustomerApi solution called CUstomerApi.Message.Send. Next, I install the RabbitMQ.Client NuGet package and create the class CustomerUpdateSender in the project. I want to publish my Customer object to the queue every time the customer is updated. Therefore, I create the SendCustomer method which takes a Customer object as a parameter.</p><h4 id="publish-data-to-rabbitmq">Publish data to RabbitMQ</h4><p>Publishing data to the queue is pretty simple. First, you have to create a connection to RabbitMQ using its hostname, a username and a password using the ConnectionFactory. With this connection, you can use QueueDeclare to create a new queue if it doesn’t exist yet. The QueueDeclare method takes a couple of parameters like a name and whether the queue is durable.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">SendCustomer</span><span class="p">(</span><span class="n">Customer</span> <span class="n">customer</span><span class="p">)</span>  
<span class="p">{</span>  
    <span class="kt">var</span> <span class="n">factory</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConnectionFactory</span><span class="p">()</span> <span class="p">{</span> <span class="n">HostName</span> <span class="p">=</span> <span class="err">\</span><span class="n">_hostname</span><span class="p">,</span> <span class="n">UserName</span> <span class="p">=</span> <span class="err">\</span><span class="n">_username</span><span class="p">,</span> <span class="n">Password</span> <span class="p">=</span> <span class="n">_password</span> <span class="p">};</span>
    
    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="n">factory</span><span class="p">.</span><span class="nf">CreateConnection</span><span class="p">())</span>  
    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">channel</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="nf">CreateModel</span><span class="p">())</span>  
</pre></table></code></div></div><p>After creating the connection to the queue, I convert my customer object to a JSON object using JsonConvert and then encode this JSON to UTF8.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="n">customer</span><span class="p">);</span>  
<span class="kt">var</span> <span class="n">body</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>  
</pre></table></code></div></div><p>The last step is to publish the previously generated byte array using BasicPublish. BasicPublish has like QueueDeclare a couple of useful parameters but to keep it simple, I only provide the queue name and my byte array.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">channel</span><span class="p">.</span><span class="nf">BasicPublish</span><span class="p">(</span><span class="n">exchange</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span> <span class="n">routingKey</span><span class="p">:</span> <span class="n">_queueName</span><span class="p">,</span> <span class="n">basicProperties</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="n">body</span><span class="p">);</span>  
</pre></table></code></div></div><p>That’s all the logic you need to publish data to your queue. Before I can use it, I have to do two more things though. First, I have to register my CustomerUpdateSender class in the Startup class. I am also providing the settings for the queue like the name or user from the appsettings. Therefore, I have to read this section in the Startup class.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>  
<span class="p">{</span>  
    <span class="n">services</span><span class="p">.</span><span class="nf">AddOptions</span><span class="p">();</span>
    
    <span class="n">services</span><span class="p">.</span><span class="n">Configure</span><span class="p">&lt;</span><span class="n">RabbitMqConfiguration</span><span class="p">&gt;(</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetSection</span><span class="p">(</span><span class="s">"RabbitMq"</span><span class="p">));</span>  
    <span class="n">services</span><span class="p">.</span><span class="n">AddTransient</span><span class="p">&lt;</span><span class="n">ICustomerUpdateSender</span><span class="p">,</span> <span class="n">CustomerUpdateSender</span><span class="p">&gt;();</span>  
</pre></table></code></div></div><p>The last step is to call the SendCustomer method when a customer is updated. This call is in the Handle method of the UpdateCustomerCommandHandler. If you commented out the line before to test the application without RabbitMQ, you have to uncomment the call now.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">UpdateCustomerCommandHandler</span> <span class="p">:</span> <span class="n">IRequestHandler</span><span class="p">&lt;</span><span class="n">UpdateCustomerCommand</span><span class="p">,</span> <span class="n">Customer</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">ICustomerRepository</span> <span class="n">_customerRepository</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">ICustomerUpdateSender</span> <span class="n">_customerUpdateSender</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">UpdateCustomerCommandHandler</span><span class="p">(</span><span class="n">ICustomerUpdateSender</span> <span class="n">customerUpdateSender</span><span class="p">,</span> <span class="n">ICustomerRepository</span> <span class="n">customerRepository</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_customerUpdateSender</span> <span class="p">=</span> <span class="n">customerUpdateSender</span><span class="p">;</span>
        <span class="n">_customerRepository</span> <span class="p">=</span> <span class="n">customerRepository</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">Customer</span><span class="p">&gt;</span> <span class="nf">Handle</span><span class="p">(</span><span class="n">UpdateCustomerCommand</span> <span class="n">request</span><span class="p">,</span> <span class="n">CancellationToken</span> <span class="n">cancellationToken</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_customerRepository</span><span class="p">.</span><span class="nf">UpdateAsync</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">Customer</span><span class="p">);</span>

        <span class="n">_customerUpdateSender</span><span class="p">.</span><span class="nf">SendCustomer</span><span class="p">(</span><span class="n">customer</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">customer</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="implementation-of-reading-data-from-rabbitmq">Implementation of reading data from RabbitMQ</h3><p>Implementing the read functionality is a bit more complex because we have to constantly check the queue if there are new messages and if so, process them. I love .NET Core and it comes really handy here. .NET Core provides the abstract class BackgroundService which provides the method ExecuteAsync. This method can be overriden and is executed regularly in the background.</p><p>In the OrderApi solution, I create a new project called OrderApi.Messaging.Receive, install the RabbitMQ.Client NuGet and create a class called CustomerFullNameUpdateReceiver. This class inherits from the BackgroundService class and overrides the ExecuteAsync method.</p><p>In the constructor of the class, I initialize my queue the same way as in the CustomerApi using QueueDeclere. Additionally, I register events that I won’t implement now but might be useful in the future.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="k">private</span> <span class="k">void</span> <span class="nf">InitializeRabbitMqListener</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">factory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ConnectionFactory</span>
    <span class="p">{</span>
        <span class="n">HostName</span> <span class="p">=</span> <span class="n">_hostname</span><span class="p">,</span>
        <span class="n">UserName</span> <span class="p">=</span> <span class="n">_username</span><span class="p">,</span>
        <span class="n">Password</span> <span class="p">=</span> <span class="n">_password</span>
    <span class="p">};</span>

    <span class="n">_connection</span> <span class="p">=</span> <span class="n">factory</span><span class="p">.</span><span class="nf">CreateConnection</span><span class="p">();</span>
    <span class="n">_connection</span><span class="p">.</span><span class="n">ConnectionShutdown</span> <span class="p">+=</span> <span class="n">RabbitMQ_ConnectionShutdown</span><span class="p">;</span>
    <span class="n">_channel</span> <span class="p">=</span> <span class="n">_connection</span><span class="p">.</span><span class="nf">CreateModel</span><span class="p">();</span>
    <span class="n">_channel</span><span class="p">.</span><span class="nf">QueueDeclare</span><span class="p">(</span><span class="n">queue</span><span class="p">:</span> <span class="n">_queueName</span><span class="p">,</span> <span class="n">durable</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span> <span class="n">autoDelete</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="k">null</span><span class="p">);</span>
<span class="p">}</span> 
</pre></table></code></div></div><h4 id="reading-data-from-the-queue">Reading data from the queue</h4><p>In the ExecuteAsync method, I am subscribing to the receive event and whenever this event is fired, I am reading the message and encode its body which is my Customer object. Then I am using this Customer object to call another service that will do the update in the database.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="k">protected</span> <span class="k">override</span> <span class="n">Task</span> <span class="nf">ExecuteAsync</span><span class="p">(</span><span class="n">CancellationToken</span> <span class="n">stoppingToken</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">stoppingToken</span><span class="p">.</span><span class="nf">ThrowIfCancellationRequested</span><span class="p">();</span>

    <span class="kt">var</span> <span class="n">consumer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventingBasicConsumer</span><span class="p">(</span><span class="n">_channel</span><span class="p">);</span>
    <span class="n">consumer</span><span class="p">.</span><span class="n">Received</span> <span class="p">+=</span> <span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">ea</span><span class="p">)</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetString</span><span class="p">(</span><span class="n">ea</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">());</span>
        <span class="kt">var</span> <span class="n">updateCustomerFullNameModel</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">UpdateCustomerFullNameModel</span><span class="p">&gt;(</span><span class="n">content</span><span class="p">);</span>

        <span class="nf">HandleMessage</span><span class="p">(</span><span class="n">updateCustomerFullNameModel</span><span class="p">);</span>

        <span class="n">_channel</span><span class="p">.</span><span class="nf">BasicAck</span><span class="p">(</span><span class="n">ea</span><span class="p">.</span><span class="n">DeliveryTag</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">consumer</span><span class="p">.</span><span class="n">Shutdown</span> <span class="p">+=</span> <span class="n">OnConsumerShutdown</span><span class="p">;</span>
    <span class="n">consumer</span><span class="p">.</span><span class="n">Registered</span> <span class="p">+=</span> <span class="n">OnConsumerRegistered</span><span class="p">;</span>
    <span class="n">consumer</span><span class="p">.</span><span class="n">Unregistered</span> <span class="p">+=</span> <span class="n">OnConsumerUnregistered</span><span class="p">;</span>
    <span class="n">consumer</span><span class="p">.</span><span class="n">ConsumerCancelled</span> <span class="p">+=</span> <span class="n">OnConsumerConsumerCancelled</span><span class="p">;</span>

    <span class="n">_channel</span><span class="p">.</span><span class="nf">BasicConsume</span><span class="p">(</span><span class="n">_queueName</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="n">consumer</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">Task</span><span class="p">.</span><span class="n">CompletedTask</span><span class="p">;</span>
<span class="p">}</span> 
</pre></table></code></div></div><p>That’s all you have to do to read data from the queue. The last thing I have to do is to register my CustomerFullNameUpdateReceiver class as a background service in the Startup class.</p><div class="language-csharp highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">services</span><span class="p">.</span><span class="n">AddHostedService</span><span class="p">&lt;</span><span class="n">CustomerFullNameUpdateReceiver</span><span class="p">&gt;();</span>  
</pre></table></code></div></div><h2 id="run-rabbitmq-in-docker">Run RabbitMQ in Docker</h2><p>The publish and receive functionalities are implemented. The last step before testing them is to start an instance of RabbitMQ. The easiest way is to run it in a Docker container. If you don’t know what Docker is or haven’t installed it, download Docker Desktop for Windows from <a href="https://docs.docker.com/docker-for-windows/" target="_blank" rel="noopener noreferrer">here</a> or for Mac from <a href="https://docs.docker.com/docker-for-mac/" target="_blank" rel="noopener noreferrer">here</a>. After you installed Docker, copy the two following lines in Powershell or bash:</p><div class="language-powershell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nf">docker</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">-d</span><span class="w"> </span><span class="nt">--hostname</span><span class="w"> </span><span class="nx">my-rabbit</span><span class="w"> </span><span class="nt">--name</span><span class="w"> </span><span class="nx">some-rabbit</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="nx">RABBITMQ_DEFAULT_USER</span><span class="o">=</span><span class="nf">user</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="nx">RABBITMQ_DEFAULT_PASS</span><span class="o">=</span><span class="nf">password</span><span class="w"> </span><span class="nx">rabbitmq:3-management</span><span class="w">
</span></pre></table></code></div></div><div class="language-powershell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nf">docker</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">-it</span><span class="w"> </span><span class="nt">--rm</span><span class="w"> </span><span class="nt">--name</span><span class="w"> </span><span class="nx">rabbitmq</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="nx">5672:5672</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="nx">15672:15672</span><span class="w"> </span><span class="nx">rabbitmq:3-management</span><span class="w">
</span></pre></table></code></div></div><p>Don’t worry if you don’t understand them. Simplified these two lines download the RabbitMQ Docker image, start is as a container and configure the ports, the name, and the credentials.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/Run-RabbitMQ-in-a-Docker-container.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/Run-RabbitMQ-in-a-Docker-container.jpg" alt="Run RabbitMQ in a Docker container" /></a><p> Run RabbitMQ in a Docker container</p></div><p>After RabbitMQ is started, you can navigate to localhost:15672 and login with guest as user and guest as password.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/Login-into-the-RabbitMQ-management-portal.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/Login-into-the-RabbitMQ-management-portal.jpg" alt="Login into the RabbitMQ management portal" /></a><p> Login into the RabbitMQ management portal</p></div><p>Navigate to the Queues tab and you will see that there is no queue yet.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/No-queues-are-created-yet.jpg">&lt;img loading="lazy" size-full" src="/assets/img/posts/2020/04/No-queues-are-created-yet.jpg" alt="A message was published and consumed" /&gt;</a><p> A message was published and consumed</p></div><p>Now you can start the OrderApi and the CustomerApi project. The order how you start them doesn’t matter. After you started the CustomerApi, the CustomerQueue will be created and you can see it in the management portal.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/The-CustomerQueue-was-created-from-the-CustomerApi-solution.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/The-CustomerQueue-was-created-from-the-CustomerApi-solution.jpg" alt="No queues are created yet" /></a><p> No queues are created yet</p></div><p>Click on CustomerQueue and you will see that there is no message in the queue yet and that there is one consumer (the OrderApi).</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/Overview-of-the-CustomerQueue-and-its-Consumers.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/Overview-of-the-CustomerQueue-and-its-Consumers.jpg" alt="Overview of the CustomerQueue and its Consumers" /></a><p> Overview of the CustomerQueue and its Consumers</p></div><p>Go to the Put action of the CustomerApi and update a customer. If you use my in-memory database you can use the Guid “9f35b48d-cb87-4783-bfdb-21e36012930a”. The other values don’t matter for this test.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/Update-a-customer.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/Update-a-customer.jpg" alt="Update a customer" /></a><p> Update a customer</p></div><p>After you sent the update request, go back to the RabbitMQ management portal and you will see that a message was published to the queue and also a message was consumed.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2020/04/A-message-was-published-and-consumed.jpg"><img loading="lazy" src="/assets/img/posts/2020/04/A-message-was-published-and-consumed.jpg" alt="A message was published and consumed" /></a><p> A message was published and consumed</p></div><h2 id="shortcomings-of-my-implementation">Shortcomings of my Implementation</h2><p>I wanted to keep the implementation and therefore it has a couple of shortcomings. The biggest problem is that the OrderApi won’t start if there is no instance of RabbitMQ running. Also, the CustomerApi will crash when you try to update a customer and there is no instance of RabbitMQ running. There is no exception handling right now. Also if there is an error while processing a message, the message will be deleted from the queue and therefore be lost.</p><p>Another problem is that after the message is read, it is removed from the queue. This means only one receiver is possible at the moment. There are also no unit tests for the implementation of the RabbitMQ client.</p><h2 id="conclusion">Conclusion</h2><p>This post explained why you should use queues to decouple your microservices and how to implement RabbitMQ using Docker and ASP .NET Core 3.1. Keep in mind that this is a quick implementation and needs some work to be production-ready.</p><p><a href="/dockerize-an-asp-net-core-microservice-and-rabbitmq" target="_blank" rel="noopener noreferrer">In my next post</a>, I will dockerize the application which will make it way easier to run and distribute the whole application.</p><p>Note: On October 11, I removed the Solution folder and moved the projects to the root level. Over the last months I made the experience that this makes it quite simpler to work with Dockerfiles and have automated builds and deployments.</p><p>You can find the code of  the finished demo on <a href="https://github.com/WolfgangOfner/MicroserviceDemo" target="_blank" rel="noopener noreferrer">GitHub</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/docker/'>Docker</a>, <a href='/categories/asp.net/'>ASP.NET</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/.net-core-3.1/" class="post-tag no-text-decoration" >.net core 3.1</a> <a href="/tags/c%23/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/cqrs/" class="post-tag no-text-decoration" >CQRS</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/docker-compose/" class="post-tag no-text-decoration" >docker-compose</a> <a href="/tags/mediatr/" class="post-tag no-text-decoration" >MediatR</a> <a href="/tags/microservice/" class="post-tag no-text-decoration" >microservice</a> <a href="/tags/rabbitmq/" class="post-tag no-text-decoration" >RabbitMQ</a> <a href="/tags/swagger/" class="post-tag no-text-decoration" >Swagger</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=RabbitMQ in an ASP .NET Core 3.1 Microservice - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=RabbitMQ in an ASP .NET Core 3.1 Microservice - Programming With Wolfgang&u=https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=RabbitMQ in an ASP .NET Core 3.1 Microservice - Programming With Wolfgang&url=https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/xunit-getting-started/">xUnit - Getting Started</a><li><a href="/xbehave-getting-started/">xBehave - Getting Started</a><li><a href="/visitor-pattern/">Visitor Pattern</a><li><a href="/view-components-in-asp-net-core-mvc/">View Components in ASP.NET Core MVC</a><li><a href="/unit-testing-controller-and-actions/">Unit Testing Controllers and Actions</a></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/mediatr/">MediatR</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/azure-devops/">Azure Devops</a> <a class="post-tag" href="/tags/docker-compose/">docker compose</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/scrum/">Scrum</a> <a class="post-tag" href="/tags/agile/">Agile</a> <a class="post-tag" href="/tags/xunit/">xUnit</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/programming-microservices-net-core-3-1/"><div class="card-body"> <span class="timeago small" > Apr 13 <i class="unloaded">2020-04-13T17:53:40+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Programming a Microservice with .NET Core 3.1</h3><div class="text-muted small"><p> In my last post, I talked about the theory of a microservice. Today it is going to be more practical. I will create two microservices using ASP .NET Core 3.1. Over the next posts., I will extend th...</p></div></div></a></div><div class="card"> <a href="/document-your-microservice-with-swagger/"><div class="card-body"> <span class="timeago small" > Apr 15 <i class="unloaded">2020-04-15T17:37:49+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Document your Microservice with Swagger</h3><div class="text-muted small"><p> Swagger is an open-source toolset that can be easily integrated into your solution and which helps you to document and test your APIs. It is so simple that even none technical people can use it. In...</p></div></div></a></div><div class="card"> <a href="/mediator-pattern-in-asp-net-core-3-1/"><div class="card-body"> <span class="timeago small" > Apr 17 <i class="unloaded">2020-04-17T14:05:38+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Mediator Pattern in ASP .NET Core 3.1</h3><div class="text-muted small"><p> The mediator pattern is a behavioral design pattern that helps to reduce chaotic dependencies between objects. The main goal is to disallow direct communication between the objects and instead forc...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/mediator-pattern-in-asp-net-core-3-1/" class="btn btn-outline-primary"><p>Mediator Pattern in ASP .NET Core 3.1</p></a> <a href="/dockerize-an-asp-net-core-microservice-and-rabbitmq/" class="btn btn-outline-primary"><p>Dockerize an ASP .NET Core Microservice and RabbitMQ</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function () { this.page.url = 'https://www.programmingwithwolfgang.com/rabbitmq-in-an-asp-net-core-3-1-microservice/'; this.page.identifier = '/rabbitmq-in-an-asp-net-core-3-1-microservice/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/mediatr/">MediatR</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/azure-devops/">Azure Devops</a> <a class="post-tag" href="/tags/docker-compose/">docker compose</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/scrum/">Scrum</a> <a class="post-tag" href="/tags/agile/">Agile</a> <a class="post-tag" href="/tags/xunit/">xUnit</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.programmingwithwolfgang.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
