<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>xUnit - Getting Started | Programming With Wolfgang</title><meta name="generator" content="Jekyll v4.1.0" /><meta property="og:title" content="xUnit - Getting Started" /><meta name="author" content="Wolfgang Ofner" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .Net framework and was written by the inventor of NUnit v2. More details can be found on xUnit’s Github page. xUnit is used by .Net core as the default testing framework and its major advantage over NUnit is that every test runs in isolation, which makes it impossible that test influence each other." /><meta property="og:description" content="In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .Net framework and was written by the inventor of NUnit v2. More details can be found on xUnit’s Github page. xUnit is used by .Net core as the default testing framework and its major advantage over NUnit is that every test runs in isolation, which makes it impossible that test influence each other." /><link rel="canonical" href="http://0.0.0.0:4000/xunit-getting-started/" /><meta property="og:url" content="http://0.0.0.0:4000/xunit-getting-started/" /><meta property="og:site_name" content="Programming With Wolfgang" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-01-27T21:57:57+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="xUnit - Getting Started" /><meta name="twitter:site" content="@wolfgang_ofner" /><meta name="twitter:creator" content="@Wolfgang Ofner" /><meta name="google-site-verification" content="xxsPm-h6A0B6a0QMgqXO80PU4DbMt4Dq06p-SGzB3TU" /> <script type="application/ld+json"> {"url":"http://0.0.0.0:4000/xunit-getting-started/","@type":"BlogPosting","headline":"xUnit - Getting Started","dateModified":"2019-01-27T21:57:57+01:00","datePublished":"2019-01-27T21:57:57+01:00","author":{"@type":"Person","name":"Wolfgang Ofner"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/xunit-getting-started/"},"description":"In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .Net framework and was written by the inventor of NUnit v2. More details can be found on xUnit’s Github page. xUnit is used by .Net core as the default testing framework and its major advantage over NUnit is that every test runs in isolation, which makes it impossible that test influence each other.","@context":"https://schema.org"}</script><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <script src="/assets/js/post.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/author/wolfgang-small.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Programming With Wolfgang</a></div><div class="site-subtitle font-italic">Let's talk programming</div></div></div><div class="d-flex justify-content-center"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span></div><ul class="nav flex-column mt-3"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/wolfgangofner" target="_blank" > <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/wolfgang_ofner" target="_blank" > <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/wolfgangofner" target="_blank" > <i class="fab fa-linkedin"></i> </a> <a href=" javascript:window.open('mailto:' + ['wolfgang','programmingwithwolfgang.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="d-sm-none row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>xUnit - Getting Started</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><div style="visibility:hidden;"> <i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel">Cancel</span></div></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>xUnit - Getting Started</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 27, 2019, 9:57 PM +0100" > Jan 27, 2019 <i class="unloaded">2019-01-27T21:57:57+01:00</i> </span> by <span class="author"> Wolfgang Ofner </span></div></div><div class="post-content"><p>In this post, I will explain the basics of xUnit and how to write unit tests with it. xUnit is an open source testing framework for the .Net framework and was written by the inventor of NUnit v2. More details can be found on <a href="https://xunit.github.io/" target="_blank" rel="noopener">xUnit’s Github page</a>. xUnit is used by .Net core as the default testing framework and its major advantage over NUnit is that every test runs in isolation, which makes it impossible that test influence each other.</p><h2 id="my-setup">My Setup</h2><p>For writing unit tests I use the following NuGet packages and extensions:</p><ul><li>xUnit for unit testing<li><a href="http://xbehave.github.io/" target="_blank" rel="noopener">xBehave</a> for acceptance tests (xBehave is based on xUnit)<li><a href="https://fluentassertions.com/" target="_blank" rel="noopener">FluentAssertions</a> for more readable assertions<li><a href="https://fakeiteasy.github.io/" target="_blank" rel="noopener">FakeItEasy</a> to create fake objects<li><a href="https://resharper-plugins.jetbrains.com/packages/xunitcontrib/" target="_blank" rel="noopener">xUnit Resharper Extension</a> for xUnit shortcuts in Visual Studio</ul><p>The code for today’s demo can be found on <a href="https://github.com/WolfgangOfner/xUnit-Getting-Started" target="_blank" rel="noopener">Github</a>. Keep in mind that the tests are only for the demonstration of xUnit. The tests are barely useful.</p><h2 id="execute-a-test-with-xunit">Execute a test with xUnit</h2><p>For each class I want to test, I create a separate class to which I add tests in the name, for example, if I want to test the Employee class I name my test class EmployeeTests. To create a test method, you only have to add the Fact attribute to the method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-the-Fact-attritbue.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Using-the-Fact-attritbue.jpg" alt="Using the xUnit Fact attribute" /></a><p> Using the Fact attribute</p></div><p>That’s all. You can run the test and if the constructor of your Employee class sets the salary to 1000, the test will pass. I like to name the object I want to test testee. Another common name is sut which stands for system under test.</p><h2 id="reducing-code-duplication">Reducing code duplication</h2><p>In the intro, I mentioned that every test runs in isolation in xUnit. This is done by creating a new instance for each test. Therefore the constructor is called for each test and can be used to initialize objects, which are needed for the tests. Since I will need the object of the Employee class in all my tests, I can initialize it in the constructor and don’t have to write the same code over and over in every test.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Initialize-the-testee-in-the-constructor.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Initialize-the-testee-in-the-constructor.jpg" alt="Initialize the testee in the constructor" /></a><p> Initialize the testee in the constructor</p></div><h2 id="cleaning-up-after-tests">Cleaning up after tests</h2><p>Sometimes you have to do some cleanup like a database rollback or deleting a file after the tests were executed. Like the constructor, this can be done in a central place for all tests. To do that implement the IDisposable interface and implement the Dispose method. This method is called every time a test is finished.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Implement-the-IDisposable-interface.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Implement-the-IDisposable-interface.jpg" alt="Implement the IDisposable interface" /></a><p> Implement the IDisposable interface</p></div><h2 id="executing-tests-several-times-with-different-parameters">Executing tests several times with different parameters</h2><p>Often you want to execute a test with different parameters, for example, if a valid age for your employee has to be between at least 18 and maximum 65 years, you want to test the edge cases (17, 18, 65, 66). Additionally, you might test negative numbers. You could write several asserts but this would be a lot of typing and not really practical. The solution for this is the Theory attribute in xUnit. A Theory allows you to pass values from different sources as parameters to your test method. With the InlineData attribute, you can add values for the parameter.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Executing-the-same-method-with-several-input-variables.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Executing-the-same-method-with-several-input-variables.jpg" alt="Executing the same method with several input variables" /></a><p> Executing the same method with several input variables</p></div><p>If you run this test method, five test cases will be executed.</p><h2 id="skipping-a-test">Skipping a test</h2><p>Sometimes you don’t want a test to be executed. To ignore tests, add the Skip attribute and provide an info message.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Skipping-a-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Skipping-a-test.jpg" alt="Skipping a test" /></a><p> Skipping a test</p></div><h2 id="grouping-tests-together">Grouping tests together</h2><p>I barely use this feature but sometimes you want to group certain tests together. This can be for example all tests from one class and only some tests from another class. To do that use the Trait attribute and provide a name and category. You can apply this attribute to a class or to a single test.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-method.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-method.jpg" alt="Applying the Trait attribute to a test method" /></a><p> Applying the Trait attribute to a test method</p></div><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-class.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Applying-the-Trait-attribute-to-a-test-class.jpg" alt="Applying the Trait attribute to a test class" /></a><p> Applying the Trait attribute to a test class</p></div><p>If you run the tests and group the output by category, all traits with the same category will be grouped together.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Grouped-test-output.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Grouped-test-output.jpg" alt="Grouped test output" /></a><p> Grouped test output</p></div><h2 id="add-information-to-the-test-result-output">Add information to the test result output</h2><p>By default, no output is generated when a test finished. For reporting reasons, it can be useful to add some information on what the test did to the output of the test. This can be done with the ITestOutputHelper. Pass it as parameter in the constructor of your test class and initialize a private field with it.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-the-ITestOutputHelper.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Using-the-ITestOutputHelper.jpg" alt="Using the ITestOutputHelper" /></a><p> Using the ITestOutputHelper</p></div><p>Next, use the WriteLine method of the ITestOutputHelper object to create the desired output.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Creating-a-custom-message-for-the-test-result.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Creating-a-custom-message-for-the-test-result.jpg" alt="Creating a custom message for the test result" /></a><p> Creating a custom message for the test result</p></div><p>When you run the test, you will see the message in the test result window.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Output-message-of-the-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Output-message-of-the-test.jpg" alt="Output message of the test" /></a><p> Output message of the test</p></div><h2 id="share-resources-over-multiple-tests">Share resources over multiple tests</h2><p>Previously, I mentioned that for every test a new object is instantiated and therefore isolated from the other tests.  Sometimes you need to share a resource with several tests. This can be done with Fixtures. First, you have to create a so-called fixture class with the information you want to share. In my simple example, I set DateTime.Now to demonstrate that every test uses the same instance of the object.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Fixture-class-to-share-the-time-property.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Fixture-class-to-share-the-time-property.jpg" alt="Fixture class to share the time property" /></a><p> Fixture class to share the time property</p></div><p>Next, I am creating a collection class with the CollectionDefiniton attribute and the ICollectionFixture interface with my previously created fixture class.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Creating-the-collection-to-share-date-accross-tests.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Creating-the-collection-to-share-date-accross-tests.jpg" alt="Creating the collection to share date across tests" /></a><p> Creating the collection to share date across tests</p></div><p>Finally, I add the Collection attribute with the previously set name to my test class and pass the fixture class in the constructor.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Passing-the-collection-to-the-test-class.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Passing-the-collection-to-the-test-class.jpg" alt="Passing the collection to the test class" /></a><p> Passing the collection to the test class</p></div><p>To demonstrate that the _timeFixture object stays the same, I run a couple of tests with Thread.Sleep(1500) and both tests will output the same time.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Tests-using-the-fixture-object.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Tests-using-the-fixture-object.jpg" alt="Tests using the fixture object" /></a><p> Tests using the fixture object</p></div><p>Both tests will print the same output.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/The-same-output-of-the-fixture-object.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/The-same-output-of-the-fixture-object.jpg" alt="The same output of the fixture object" /></a><p> The same output of the fixture object</p></div><h2 id="provide-test-data-from-a-class">Provide test data from a class</h2><p>Previously, I showed how to use the Theory attribute to pass several parameters for the test. If you want the same data for several tests, you would have to enter it several times. This is error-prone and unpractical. Therefore, you can place these values in a class and just add a reference to the class.</p><p>Create a new class with a static property and only a getter which yield returns all your test data as object arrays.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Class-with-test-data.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Class-with-test-data.jpg" alt="Class with test data" /></a><p> Class with test data</p></div><p>For your test, use the MemberData instead of the InlineData attribute and provide the name of the property and the type of the class containing your test data.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Using-test-data-from-a-class.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Using-test-data-from-a-class.jpg" alt="Using test data from a class" /></a><p> Using test data from a class</p></div><h2 id="provide-test-data-with-a-custom-attribute">Provide test data with a custom attribute</h2><p>A custom attribute works the same way as the MemberData attribute but it is even less to write in your test. Create a new class and inherit from the DataAttribute class. Then override the GetData method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Override-the-GetData-method-from-the-DataAttribute-class.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Override-the-GetData-method-from-the-DataAttribute-class.jpg" alt="Override the GetData method from the DataAttribute class" /></a><p> Override the GetData method from the DataAttribute class</p></div><p>After you created the class, add the name of the class (without Attribute) as the attribute to your Theory. xUnit will recognize your attribute and call the GetData method.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Use-the-custom-attribute.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Use-the-custom-attribute.jpg" alt="Use the custom attribute" /></a><p> Use the custom attribute</p></div><h2 id="provide-test-data-from-an-external-source">Provide test data from an external source</h2><p>The last method to provide data for your tests is from an external source. To read the data from a csv file, I placed the csv file in the root folder of my project and created a class with a static property. In the getter of the property, I read the file, split the values and return them as object arrays. Don’t forget to set the Copy to Output Directory property of the csv file to Copy always or Copy if newer. Otherwise, the file won’t be copied when you compile your code and therefore won’t be found at runtime.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Read-data-from-a-csv-file.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Read-data-from-a-csv-file.jpg" alt="Read data from a csv file" /></a><p> Read data from a csv file</p></div><p>Now use the MemberData attribute for your test to add the name of the property and the type of your class.</p><div class="col-12 col-sm-10 aligncenter"> <a href="/assets/img/posts/2019/01/Provide-data-from-an-external-file-to-your-test.jpg"><img loading="lazy" src="/assets/img/posts/2019/01/Provide-data-from-an-external-file-to-your-test.jpg" alt="Provide data from an external file to your test" /></a><p> Provide data from an external file to your test</p></div><h2 id="conclusion">Conclusion</h2><p>In this post, I gave a quick overview of xUnit and explained how to get data from several sources and how to reduce duplicate code. For more information on xUnit, I can recommend the Pluralsight course “<a href="https://app.pluralsight.com/library/courses/dotnet-core-testing-code-xunit-dotnet-getting-started/table-of-contents" target="_blank" rel="noopener">Testing .NET Core Code with xUnit.net: Getting Started</a>” from Jason Robert.</p><p>You can find the code of my demo on <a href="https://github.com/WolfgangOfner/xUnit-Getting-Started" target="_blank" rel="noreferrer noopener" aria-label="You can find all my solutions on GitHub. (opens in a new tab)">GitHub</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c%23/" class="post-tag no-text-decoration">C#</a> <a href="/tags/tdd/" class="post-tag no-text-decoration">TDD</a> <a href="/tags/xunit/" class="post-tag no-text-decoration">xUnit</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=xUnit - Getting Started - Programming With Wolfgang&url=http://0.0.0.0:4000/xunit-getting-started/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=xUnit - Getting Started - Programming With Wolfgang&u=http://0.0.0.0:4000/xunit-getting-started/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=xUnit - Getting Started - Programming With Wolfgang&url=http://0.0.0.0:4000/xunit-getting-started/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=http://0.0.0.0:4000/xunit-getting-started/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/how-i-learned-programming-part-3/">How I learned programming - Part 3</a><li><a href="/bot-third-party-integration/">Integrate your Bot in Third-Party Applications</a></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/xunit/">xUnit</a> <a class="post-tag" href="/tags/mediatr/">MediatR</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/docker-compose/">docker compose</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/scrum/">Scrum</a> <a class="post-tag" href="/tags/ci/">CI</a> <a class="post-tag" href="/tags/agile/">Agile</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/xbehave-getting-started/"><div class="card-body"> <span class="timeago small" > Jan 30, 2019 <i class="unloaded">2019-01-30T23:30:26+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>xBehave - Getting Started</h3><div class="text-muted small"><p> In my last post, I talked about writing unit tests using xUnit. Today, I want to go one step further and will talk about writing acceptance tests (ATDD) using xBehave. xBehave is an extension of xU...</p></div></div></a></div><div class="card"> <a href="/tdd-kata/"><div class="card-body"> <span class="timeago small" > Dec 9, 2018 <i class="unloaded">2018-12-09T16:31:21+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>TDD Kata</h3><div class="text-muted small"><p> Nowadays it should be a no-brainer to write automated tests when developing or changing features. Unfortunately, the reality is different. In the last couple of weeks, I worked with several teams w...</p></div></div></a></div><div class="card"> <a href="/unit-testing-controller-and-actions/"><div class="card-body"> <span class="timeago small" > Jan 15, 2018 <i class="unloaded">2018-01-15T20:10:13+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Unit Testing Controllers and Actions</h3><div class="text-muted small"><p> In my last post, I showed how to work with controllers and actions. This included passing data, return types of actions and redirects. In this post, I want to check if my implemented features work ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/tdd-kata/" class="btn btn-outline-primary"><p>TDD Kata</p></a> <a href="/xbehave-getting-started/" class="btn btn-outline-primary"><p>xBehave - Getting Started</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//programmingwithwolfgang.disqus.com/embed.js', disqusConfig: function () { this.page.url = 'http://0.0.0.0:4000/xunit-getting-started/'; this.page.identifier = '/xunit-getting-started/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://twitter.com/wolfgang_ofner">Wolfgang Ofner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/xunit/">xUnit</a> <a class="post-tag" href="/tags/mediatr/">MediatR</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/docker-compose/">docker compose</a> <a class="post-tag" href="/tags/swagger/">Swagger</a> <a class="post-tag" href="/tags/scrum/">Scrum</a> <a class="post-tag" href="/tags/ci/">CI</a> <a class="post-tag" href="/tags/agile/">Agile</a> <a class="post-tag" href="/tags/rabbitmq/">RabbitMQ</a> <a class="post-tag" href="/tags/mvc/">MVC</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="http://0.0.0.0:4000{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
